(function(e){function t(t){for(var a,s,u=t[0],c=t[1],l=t[2],d=0,h=[];d<u.length;d++)s=u[d],Object.prototype.hasOwnProperty.call(i,s)&&i[s]&&h.push(i[s][0]),i[s]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(e[a]=c[a]);o&&o(t);while(h.length)h.shift()();return n.push.apply(n,l||[]),r()}function r(){for(var e,t=0;t<n.length;t++){for(var r=n[t],a=!0,u=1;u<r.length;u++){var c=r[u];0!==i[c]&&(a=!1)}a&&(n.splice(t--,1),e=s(s.s=r[0]))}return e}var a={},i={app:0},n=[];function s(t){if(a[t])return a[t].exports;var r=a[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,s),r.l=!0,r.exports}s.m=e,s.c=a,s.d=function(e,t,r){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(s.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)s.d(r,a,function(t){return e[t]}.bind(null,a));return r},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/weather-app/";var u=window["webpackJsonp"]=window["webpackJsonp"]||[],c=u.push.bind(u);u.push=t,u=u.slice();for(var l=0;l<u.length;l++)t(u[l]);var o=c;n.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"2f59":function(e,t,r){},"3d79":function(e,t,r){"use strict";r("caad1")},"56d7":function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d");var a=r("2b0e"),i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-app",{staticClass:"app"},[r("v-app-bar",{attrs:{color:"primary",app:"",dark:""}},[r("div",{staticClass:"text-h4"},[e._v("WeatherApp")]),r("v-spacer"),r("LocaleSelect",{model:{value:e.$vuetify.lang.current,callback:function(t){e.$set(e.$vuetify.lang,"current",t)},expression:"$vuetify.lang.current"}})],1),r("v-main",{staticClass:"app__main mx-auto"},[r("WeatherApp",{staticClass:"pt-10"})],1)],1)},n=[],s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"weather-app d-flex"},[r("div",{staticClass:"weather-app__search flex-grow-1"},[r("WeatherSearch",{attrs:{valid:e.isQueryValid,locked:e.isLoading},on:{"update:valid":function(t){e.isQueryValid=t},submit:e.handleSubmit},model:{value:e.searchQuery,callback:function(t){e.searchQuery=t},expression:"searchQuery"}}),e.isLoading?r("WeatherInfoPreloader"):"not_found"===e.weather?r("div",[e._v(" "+e._s(e.$vuetify.lang.t("$vuetify.weather.notFound"))+" ")]):e.weather?r("WeatherInfo",{attrs:{place:e.weather.name,temp:e.temperature,wind:e.wind,humidity:e.weather.main.humidity,pressure:e.weather.main.pressure,state:e.weather.weather[0].description}}):e._e()],1),r("div",{staticClass:"weather-app__search-history flex-shrink-0 ml-5"},[r("WeatherSearchHistory",{attrs:{"search-items":e.searchHistory,locked:e.isLoading},on:{input:e.handleSearchItemClick}})],1)])},u=[],c=r("1da1"),l=(r("c740"),r("a434"),r("e9c4"),r("96cf"),r("d4ec")),o=r("bee2"),d=(r("99af"),r("d3b7"),"b6a21416b06ca6f193e4a8a25d7cef6a"),h=function(){function e(){Object(l["a"])(this,e)}return Object(o["a"])(e,null,[{key:"get",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(t,r){var a,i,n,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=r.lang,i=null!==a&&void 0!==a?a:"ru",n="q=".concat(t,"&lang=").concat(i,"&units=metric&appid=").concat(d),e.next=5,fetch("https://api.openweathermap.org/data/2.5/weather?".concat(n)).then((function(e){return e.json()}));case 5:if(s=e.sent,"404"!==s.cod){e.next=8;break}return e.abrupt("return","not_found");case 8:return e.abrupt("return",s);case 9:case"end":return e.stop()}}),e)})));function t(t,r){return e.apply(this,arguments)}return t}()}]),e}(),f=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-card",{staticClass:"pa-4"},[r("div",{staticClass:"headline"},[r("span",{staticClass:"text-h4"},[e._v(e._s(e.place)+" "+e._s(e.temp.value)+"°C")]),e._v(", "+e._s(e.state)+" ")]),r("div",{staticClass:"secondary--text mt-1"},[e._v(" "+e._s(e.$vuetify.lang.t("$vuetify.weather.temperatureFeels"))+" "+e._s(e.temp.feels)+"°C, "+e._s(e.$vuetify.lang.t("$vuetify.weather.min"))+" "+e._s(e.temp.min)+"°C, "+e._s(e.$vuetify.lang.t("$vuetify.weather.max"))+" "+e._s(e.temp.max)+"°C ")]),r("div",{staticClass:"d-flex flex-wrap mt-2"},[r("div",{staticClass:"mr-2"},[e._v(e._s(e.$vuetify.lang.t("$vuetify.weather.pressure"))+" "+e._s(e.pressure)+e._s(e.$vuetify.lang.t("$vuetify.weather.hpa")))]),r("v-divider",{staticClass:"mr-2",attrs:{vertical:""}}),r("div",{staticClass:"mr-2"},[e._v(e._s(e.$vuetify.lang.t("$vuetify.weather.humidity"))+" "+e._s(e.humidity)+"%")]),r("v-divider",{staticClass:"mr-2",attrs:{vertical:""}}),r("div",[e._v(" "+e._s(e.$vuetify.lang.t("$vuetify.weather.wind"))+" "+e._s(e.wind.value)+e._s(e.$vuetify.lang.t("$vuetify.weather.windUnit"))+" "+e._s(e.windDirection)+" ")])],1)])},p=[],v=(r("a9e3"),{name:"WeatherInfo",props:{place:{type:String,required:!0},temp:{type:Object,required:!0},pressure:{type:Number,required:!0},humidity:{type:Number,required:!0},state:{type:String,required:!0},wind:{type:Object,required:!0}},computed:{windDirection:function(){var e=this.wind.direction;return e>337.5?this.$vuetify.lang.t("$vuetify.weather.windDirection.N"):e>292.5?this.$vuetify.lang.t("$vuetify.weather.windDirection.NW"):e>247.5?this.$vuetify.lang.t("$vuetify.weather.windDirection.W"):e>202.5?this.$vuetify.lang.t("$vuetify.weather.windDirection.SW"):e>157.5?this.$vuetify.lang.t("$vuetify.weather.windDirection.S"):e>122.5?this.$vuetify.lang.t("$vuetify.weather.windDirection.SE"):e>67.5?this.$vuetify.lang.t("$vuetify.weather.windDirection.E"):e>22.5?this.$vuetify.lang.t("$vuetify.weather.windDirection.NE"):this.$vuetify.lang.t("$vuetify.weather.windDirection.N")}}}),m=v,y=r("2877"),w=r("6544"),g=r.n(w),_=r("b0af"),b=r("ce7e"),$=Object(y["a"])(m,f,p,!1,null,null,null),x=$.exports;g()($,{VCard:_["a"],VDivider:b["a"]});var S=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-form",{ref:"form",staticClass:"d-flex flex-grow-1",on:{submit:function(t){return t.preventDefault(),e.handleSubmit.apply(null,arguments)}}},[r("v-text-field",{attrs:{rules:e.rules,readonly:e.locked,outlined:"",dense:""},scopedSlots:e._u([{key:"message",fn:function(t){var r=t.message;return[e._v(" "+e._s(e.$vuetify.lang.t(r))+" ")]}}]),model:{value:e.proxyValue,callback:function(t){e.proxyValue="string"===typeof t?t.trim():t},expression:"proxyValue"}}),r("v-btn",{staticClass:"ml-6",attrs:{type:"submit",disabled:e.locked}},[e._v(e._s(e.$vuetify.lang.t("$vuetify.weather.submit")))])],1)},C=[],k=(r("498a"),{name:"WeatherSearch",props:{value:{type:String,default:""},valid:{type:Boolean,default:!1},locked:{type:Boolean,default:!1}},data:function(){return{rules:[]}},computed:{proxyValue:{get:function(){return this.value},set:function(e){this.$emit("input",e),this.validate()}}},watch:{value:{handler:function(){this.validate()}}},created:function(){this.rules=[function(e){return"string"===typeof e&&e.trim().length>0||"$vuetify.weather.searchRequired"}]},methods:{handleSubmit:function(){this.validate(),this.$emit("submit",this.proxyValue)},validate:function(){this.$emit("update:valid",this.$refs.form.validate())}}}),W=k,O=r("8336"),j=r("4bd4"),V=r("8654"),E=Object(y["a"])(W,S,C,!1,null,null,null),N=E.exports;g()(E,{VBtn:O["a"],VForm:j["a"],VTextField:V["a"]});var q=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-card",{staticClass:"pa-4"},[r("div",{staticClass:"d-flex align-end"},[r("v-skeleton-loader",{attrs:{type:"image",width:"256",height:"40"}}),r("v-skeleton-loader",{staticClass:"ml-2",attrs:{type:"image",width:"200",height:"29"}})],1),r("v-skeleton-loader",{staticClass:"mt-1",attrs:{type:"image",width:"400",height:"24"}}),r("div",{staticClass:"d-flex mt-2"},[r("v-skeleton-loader",{staticClass:"mr-4",attrs:{type:"image",width:"120",height:"24"}}),r("v-skeleton-loader",{staticClass:"mr-4",attrs:{type:"image",width:"120",height:"24"}}),r("v-skeleton-loader",{attrs:{type:"image",width:"120",height:"24"}})],1)],1)},D=[],H={name:"WeatherInfoPreloader"},I=H,L=r("3129"),P=Object(y["a"])(I,q,D,!1,null,null,null),Q=P.exports;g()(P,{VCard:_["a"],VSkeletonLoader:L["a"]});var F=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-list",{staticClass:"pa-0"},e._l(e.searchItems,(function(t){return r("v-list-item",{key:String(t.date),attrs:{disabled:e.locked},on:{click:function(r){return e.$emit("input",t.query)}}},[e._v(" "+e._s(t.query)+" ")])})),1)},R=[],A={name:"WeatherSearchHistory",props:{searchItems:{type:Array,default:function(){return[]}},locked:{type:Boolean,default:!1}}},T=A,B=r("8860"),M=r("da13"),J=Object(y["a"])(T,F,R,!1,null,null,null),U=J.exports;g()(J,{VList:B["a"],VListItem:M["a"]});var z={name:"WeatherApp",components:{WeatherSearchHistory:U,WeatherInfoPreloader:Q,WeatherInfo:x,WeatherSearch:N},data:function(){return{weather:null,isQueryValid:!1,isLoading:!1,searchQuery:"",searchHistory:[]}},computed:{temperature:function(){return{value:this.weather.main.temp,min:this.weather.main.temp_min,max:this.weather.main.temp_max,feels:this.weather.main.feels_like}},wind:function(){return{value:this.weather.wind.speed,direction:this.weather.wind.deg}}},watch:{"$vuetify.lang.current":function(){this.handleSubmit()}},created:function(){this.searchHistory=this.getSearchHistory()},methods:{handleSubmit:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.isQueryValid){t.next=2;break}return t.abrupt("return");case 2:return e.isLoading=!0,t.next=5,e.fetchWeather();case 5:e.isLoading=!1;case 6:case"end":return t.stop()}}),t)})))()},fetchWeather:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,h.get(e.searchQuery,{lang:e.$vuetify.lang.current});case 2:e.weather=t.sent,e.weather&&e.addToSearchHistory(e.searchQuery);case 4:case"end":return t.stop()}}),t)})))()},handleSearchItemClick:function(e){this.searchQuery=e},addToSearchHistory:function(e){var t={query:e,date:new Date},r=this.searchHistory.findIndex((function(t){return t.query===e}));-1!==r&&this.searchHistory.splice(r,1),this.searchHistory.unshift(t),localStorage.setItem("weather_search_history",JSON.stringify(this.searchHistory))},getSearchHistory:function(){var e=localStorage.getItem("weather_search_history");return e?JSON.parse(e):[]}}},G=z,K=(r("3d79"),Object(y["a"])(G,s,u,!1,null,"68cc94d9",null)),X=K.exports,Y=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-select",{staticClass:"locale-select",attrs:{items:e.locales,value:e.value,"hide-details":""},on:{input:function(t){return e.$emit("input",t)}}})},Z=[],ee={name:"LocaleSelect",props:{value:{type:String,required:!0}},data:function(){return{locales:[{text:"Русский",value:"ru"},{text:"English",value:"en"}]}}},te=ee,re=(r("d3af"),r("b974")),ae=Object(y["a"])(te,Y,Z,!1,null,"12434d8c",null),ie=ae.exports;g()(ae,{VSelect:re["a"]});var ne={name:"App",components:{LocaleSelect:ie,WeatherApp:X}},se=ne,ue=(r("5c0b"),r("7496")),ce=r("40dc"),le=r("f6c4"),oe=r("2fa4"),de=Object(y["a"])(se,i,n,!1,null,null,null),he=de.exports;g()(de,{VApp:ue["a"],VAppBar:ce["a"],VMain:le["a"],VSpacer:oe["a"]});var fe=r("f309"),pe={weather:{notFound:"Нет такого города",submit:"узнать погоду",searchRequired:"Введите город",temperatureFeels:"Ощущается как",min:"мин",max:"макс",pressure:"Давление",humidity:"Влажность",wind:"Ветер",windUnit:"м/с",windDirection:{N:"С",NW:"СЗ",W:"З",SW:"ЮЗ",S:"Ю",SE:"ЮВ",E:"З",NE:"СЗ"},hpa:"гПа"}},ve={weather:{notFound:"City not found",submit:"check weather",searchRequired:"City required",temperatureFeels:"Feels like",min:"min",max:"max",pressure:"Pressure",humidity:"Humidity",wind:"Wind",windUnit:"m/s",windDirection:{N:"N",NW:"NW",W:"W",SW:"SW",S:"S",SE:"SE",E:"E",NE:"NE"},hpa:"hPa"}};a["a"].use(fe["a"]);var me=new fe["a"]({lang:{locales:{ru:pe,en:ve},current:"ru"}});a["a"].config.productionTip=!1,new a["a"]({vuetify:me,render:function(e){return e(he)}}).$mount("#app")},"5c0b":function(e,t,r){"use strict";r("9c0c")},"9c0c":function(e,t,r){},caad1:function(e,t,r){},d3af:function(e,t,r){"use strict";r("2f59")}});
//# sourceMappingURL=app.f2253108.js.map